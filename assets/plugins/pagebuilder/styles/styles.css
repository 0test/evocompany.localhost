.content-blocks { margin: 0 0 30px; position: relative; }
.content-blocks .btn-group { margin-left: 20px; }
.content-blocks .btn-group .btn { padding: 3px 10px; font-size: .6772rem; line-height: 1.4; }
.content-blocks > .btn-group { position: absolute; right: 0; }
.content-blocks .btn-group .btn.import { cursor: pointer; margin-bottom: 0; }
.content-blocks .btn-group .btn.import input { display: none; }
.content-blocks-tab > .content-blocks { margin: 10px 0; }
.content-blocks .blocks { padding: 0 0 40px; }
.content-blocks .block:last-child { margin-bottom: 0 !important; }
.content-blocks .block .block-inner { border: 2px solid #ccc; padding: 20px; border-radius: 0; position: relative; margin: 0 0 20px; background-color: #f8f8f8; }
.content-blocks .block .fields-list { display: flex; flex-direction: row; flex-wrap: wrap; margin: 0 -0.5rem; }
.content-blocks .block .field { margin: 0 0 10px; position: relative; padding: 0 0.5rem; }
.content-blocks .block .field > input,
.content-blocks .block .field > textarea { width: 100%; margin: 0; }
.content-blocks .block .field > textarea { resize: vertical; }
.content-blocks .block .field > select { width: 100% !important; }
.content-blocks .block .field .field-name { margin: 0 0 2px; }
.content-blocks .block .field .field-note { margin: 2px 0 0; font-size: 80%; opacity: 0.8; }
.content-blocks .block .field.uploadable > input[type="text"] { width: calc(100% - 90px); }
.content-blocks .block .field.uploadable > input[type="button"] { width: 80px; margin-right: 10px; }
.content-blocks .block .field.type-image.with-thumb { position: relative; padding-left: 132px; }
.content-blocks .block .field.type-image.with-thumb .preview { position: absolute; width: 100px; height: 31px; background-color: #f2f2f2; border: 1px solid #ddd; left: 1rem; top: 0; background-position: center; background-size: contain; background-repeat: no-repeat; }
.content-blocks .block .field.type-image.with-thumb .field-name + .preview { height: 56px; }
.content-blocks .block .field.type-date > i { position: absolute; left: 25px; bottom: 8px; }
.content-blocks .block .field.type-date > input { padding-left: 28px; }
.content-blocks .block .fields-list > :last-child { margin-bottom: 0 !important; }
.content-blocks .block .fields-group { border: 2px dashed #ccc; padding: 15px; margin: 10px 0.5rem 0; width: 100%; }
.content-blocks .block .fields-group .group-title { margin: 0 0 10px; }
.content-blocks .block .fields-group .field { margin-bottom: 5px; }
.content-blocks .block .field .check-list .check-row { margin: 5px 0; }
.content-blocks .block .field .check-list .check-row label { display: inline-block; padding-left: 20px; position: relative; vertical-align: top; }
.content-blocks .block .field .check-list .check-row input { position: absolute; left: 0; top: 3px; margin: 0; }
.content-blocks .block .field .check-list.horizontal-layout .check-row { display: inline-block; vertical-align: top; margin-right: 20px; }
.content-blocks .block .field .check-list.horizontal-layout .check-row label { display: block; }
.content-blocks .block .field.image-toggle .check-row label span { display: block; border: 1px solid transparent; }
.content-blocks .block .field.image-toggle .check-row label :checked + span { border-color: #666; }
.content-blocks .block .change-type { position: absolute; left: 20px; top: -20px; }
.content-blocks .block .change-type select { width: 150px !important; }
.content-blocks .block .change-type .visible { margin: 0 10px; vertical-align: middle; background: #fff; padding: 6px 10px; cursor: pointer; }

.content-blocks .block .controls { position: absolute; height: 28px; line-height: 26px; right: 20px; top: -15px; cursor: default; background: #fff; padding: 0 10px; border-radius: 0; border: 1px solid #f8f8f8; font-size: 14px; }
.content-blocks .block .controls a { display: inline-block; padding: 0 5px; color: #555; }
.content-blocks .block .controls-bottom { right: 20px; top: auto; bottom: -16px; }
.content-blocks .block .fields-group .controls { right: 0; top: 3px; border-width: 0; background-color: transparent; padding-right: 0; }
.content-blocks .block .controls .insert { /*color: #449d44;*/ }
.content-blocks .block .controls .insert:hover { color: #449d44; }
.content-blocks .block .controls .remove { /*color: #c9302c;*/ }
.content-blocks .block .controls .remove:hover { color: #c9302c; }
.content-blocks .add-block + .block .controls .moveup { display: none; }
.content-blocks .block:last-child .controls .movedown { display: none; }

.ui-sortable-handle { -ms-touch-action: none; touch-action: none; }

.content-blocks .block .sortable-list { position: relative; }
.content-blocks .block .sortable-list > .sortable-item { padding: 10px 0 10px 25px; position: relative; border-top: 2px dashed #e2e2e2; background-color: #F8F8F8; }
.content-blocks .block .sortable-list > .hidden + .sortable-item { border-top-color: transparent; }
.content-blocks .block .sortable-list > .sortable-item > .handle { position: absolute; left: 0; top: 5px; bottom: 5px; width: 15px; background: rgba(0,0,0,0.1); cursor: url(openhand.cur) 4 4, move; }
.content-blocks .block .sortable-list > .ui-sortable-helper > .handle { cursor: url(closedhand.cur) 4 4, move !important; }
.content-blocks .block .sortable-list > .sortable-item.hidden { display: none; }
.content-blocks .block .sortable-list > .sortable-item.hidden > .controls .remove { display: none; }
.content-blocks .block .sortable-list > .sortable-item.hidden:last-child { display: block; border-top: 0; padding: 0; border: 0; width: 100%; }
.content-blocks .block .sortable-list > .sortable-item.hidden:last-child > .handle { display: none; }
.content-blocks .block .sortable-list > .sortable-item.hidden:last-child > .fields-list { display: none; }
.content-blocks .block .sortable-list > .sortable-item.hidden:last-child > .controls { top: -28px; }
.content-blocks .block .sortable-list.collapsed { display: none; }

.content-blocks-configs { display: none; }

.content-blocks .add-block { margin: 0 0 30px; text-align: center; }
.content-blocks .add-block .title { font-weight: bold; font-size: 16px; }
.content-blocks .block .add-block { margin: 30px 0; }
.content-blocks .add-block select { width: auto; margin: 0; }
.content-blocks .add-block select + .dropdown-add-block { text-decoration: none; font-size: 150%; vertical-align: middle; padding: 5px; }
.content-blocks .add-block select + .dropdown-add-block i { color: #449d44; }
.content-blocks .add-block .trigger a { display: inline-block; padding: 10px; font-size: 22px; color: #555; line-height: 40px; height: 40px; text-decoration: none; transition: all 0.2s ease; }
.content-blocks .add-block .trigger a:hover { color: #449d44; }
.content-blocks .add-block .trigger a:before { vertical-align: top; line-height: 20px; }
.content-blocks .add-block.show .trigger a { transform: rotate(45deg); color: #c9302c; }
.content-blocks .add-block .add-block-icons { margin: 30px 0; display: none; }
.content-blocks .add-block .add-block-icons a { display: inline-block; margin: 10px 5px 0; border: 2px solid #ccc; padding: 7px; width: 96px; text-decoration: none; color: #333; vertical-align: top; border-radius: 3px; font-size: 11px; background-color: #fff; transition: all .2s ease; }
.content-blocks .add-block .add-block-icons a:hover { background-color: #fafafa; border-color: #aaa; }
.content-blocks .add-block .add-block-icons a > .icon { display: block; width: 80px; height: 60px; line-height: 76px; margin: 0 0 5px; }
.content-blocks .add-block .add-block-icons a > .icon i { font-size: 36px; }
.content-blocks .add-block .add-block-icons a > .icon img { vertical-align: top; }
.content-blocks .add-block .add-block-icons .icon-wrapper { position: relative; }
.content-blocks .add-block .add-block-icons .fa-search { cursor: pointer; width: 15px; height: 15px; line-height: 15px; position: absolute; right: 5px; top: 10px; font-size: 9px; color: #fff; border-radius: 0 3px; background-color: #cccccc; }

.content-blocks.single .change-type select { display: none; }
.content-blocks.single .change-type .visible { margin-left: 0; }
.content-blocks.single .add-block { margin: 10px 0; }
.content-blocks.single .add-block select { display: none; }
.content-blocks.single .block-inner { margin-bottom: 10px; }

@supports (display: flex) {
    .content-blocks .add-block .add-block-icons .icons-list { display: flex; justify-content: center; flex-wrap: wrap; }
}

#tabGeneral .content-blocks-container { margin-top: 30px; }
#tabGeneral .tmplvars .content-blocks-container { margin-top: 0; }
#tabGeneral .tmplvars .content-blocks { margin-bottom: 0; }

.content-blocks .block .horizontal-layout > div > .fields-list { display: flex; flex-direction: row; flex-wrap: wrap; align-content: stretch; align-items: stretch; margin-right: -7px; }
.content-blocks .block .horizontal-layout > div > .fields-list .field { margin-bottom: 5px !important; flex-grow: 1; margin-right: 7px; }
.content-blocks .block .horizontal-layout > div > .fields-list .field:not(.fields-group) { padding-right: 7px; border-right: 1px solid #e7e7e7; }

@media (max-width: 850px) {
    .content-blocks .block .field.uploadable input[type="text"] { width: 78%; }
    .content-blocks .block .field.uploadable input[type="button"] { width: 20% !important; margin-right: 2%; }
}

/* отображение сеткой (галерея) */
.content-blocks .block .sortable-list.gallery-layout {
    display: flex;
    flex-wrap: wrap;
}
.content-blocks .block .sortable-list.gallery-layout.collapsed {
    display: none;
}
.content-blocks .block .sortable-list.gallery-layout > .sortable-item {
    width: 280px;
    margin: 2px;
    border: 2px dashed #e2e2e2;
    padding: 8px 8px 8px 25px;
}
.content-blocks .block .sortable-list.gallery-layout > .sortable-item > .handle {
    left: -2px;
    top: -2px;
    bottom: -2px;
    width: 18px;
}
.content-blocks .block .sortable-list.gallery-layout > .sortable-item > .fields-list .field > .preview {
    width: 100%;
    height: 150px;
    margin-bottom: 5px;
    position: static;
    background-color: #f2f2f2;
    border: 1px solid #ddd;
    cursor: pointer;
}
.content-blocks .block .sortable-list.gallery-layout > .sortable-item > .fields-list > .with-thumb {
    padding-left: 0;
}

.darkness .content-blocks .block .block-inner {
    background: #282c34;
    border-color: #414449;
}

.darkness .content-blocks .block .controls, .darkness .content-blocks .block .change-type .visible {
    background: #282c34;
    border-color: #282c34;
}
